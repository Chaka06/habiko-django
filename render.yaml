services:
  - type: web
    name: kiaba-web
    env: python
    region: frankfurt
    plan: free
    repo: https://github.com/Chaka06/habiko-django.git
    branch: master
    autoDeploy: true
    buildCommand: pip install -r requirements.txt && python manage.py collectstatic --noinput --clear
    startCommand: bash start.sh
    healthCheckPath: /
    envVars:
      - key: DEBUG
        value: "False"
      - key: SECRET_KEY
        generateValue: true
      - key: ALLOWED_HOSTS
        value: "ci-habiko.com,www.ci-habiko.com"
      - key: SITE_URL
        value: "https://ci-habiko.com"
      # Database (configure these in Render dashboard, not here)
      - key: DB_ENGINE
        value: "postgres"
      # IMPORTANT: Set these values in Render dashboard environment variables, NOT here
      # - key: POSTGRES_DB
      #   value: "your_database_name"
      # - key: POSTGRES_USER
      #   value: "your_database_user"
      # - key: POSTGRES_PASSWORD
      #   value: "your_database_password"
      # - key: POSTGRES_HOST
      #   value: "your_database_host"
      # - key: POSTGRES_PORT
      #   value: "5432"
      # Email configuration (configure these in Render dashboard, not here)
      # - key: EMAIL_HOST
      #   value: "smtp.sendgrid.net"
      # - key: EMAIL_PORT
      #   value: "587"
      # - key: EMAIL_USE_TLS
      #   value: "True"
      # - key: EMAIL_HOST_USER
      #   value: "apikey"
      # - key: EMAIL_HOST_PASSWORD
      #   value: "your_sendgrid_api_key"
      # - key: SENDGRID_API_KEY
      #   value: "your_sendgrid_api_key"
      # - key: DEFAULT_FROM_EMAIL
      #   value: "HABIKO <no-reply@ci-habiko.com>"
      # - key: SERVER_EMAIL
      #   value: "HABIKO Errors <errors@ci-habiko.com>"
      # CinetPay configuration (configure these in Render dashboard, not here)
      # - key: CINETPAY_SITE_ID
      #   value: "your_site_id"
      # - key: CINETPAY_API_KEY
      #   value: "your_api_key"
      # - key: CINETPAY_SITE_KEY
      #   value: "your_site_key"
      # - key: CINETPAY_MODE
      #   value: "PRODUCTION"
      # - key: CINETPAY_NOTIFY_URL
      #   value: "https://ci-habiko.com/accounts/payment/cinetpay/notify/"
      # - key: CINETPAY_RETURN_URL
      #   value: "https://ci-habiko.com/accounts/payment/cinetpay/return/"
    disks:
      - name: media
        mountPath: /app/media
        sizeGB: 5
