{% extends "base.html" %}
{% block title %}Réinitialisation du mot de passe · HABIKO{% endblock %}
{% block extra_head %}
<style>
  /* Style pour le champ email de réinitialisation de mot de passe */
  #{{ form.email.id_for_label }} {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border: 1px solid #cbd5e1;
    border-radius: 0.5rem;
    font-size: 1rem;
    transition: all 0.2s;
    background-color: #ffffff;
  }
  #{{ form.email.id_for_label }}:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
    border-color: #3b82f6;
  }
  #{{ form.email.id_for_label }}:hover {
    border-color: #94a3b8;
  }
</style>
{% endblock %}
{% block content %}
<section class="max-w-md mx-auto bg-white rounded-2xl p-6 md:p-8 border shadow-lg">
  <h1 class="text-xl md:text-2xl font-semibold text-slate-900 mb-2">Réinitialiser mon mot de passe</h1>
  <p class="text-sm text-slate-600 mb-4">Indiquez votre adresse e‑mail. Nous vous enverrons un lien pour créer un nouveau mot de passe.</p>

  <form method="post" action="{% url 'account_reset_password' %}" class="space-y-3">
    {% csrf_token %}
    {% if form.non_field_errors %}
    <div class="mb-3 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-800">
      {{ form.non_field_errors }}
    </div>
    {% endif %}
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1" for="{{ form.email.id_for_label }}">Adresse e‑mail</label>
      {{ form.email }}
      {% if form.email.errors %}
      <p class="text-red-500 text-sm mt-1">{{ form.email.errors.0 }}</p>
      {% endif %}
    </div>
    <button type="submit" class="w-full bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition">Réinitialiser mon mot de passe</button>
  </form>

  <div class="mt-4 text-sm text-slate-600">
    <p>Besoin d’aide ? <a class="underline" href="mailto:support@ci-habiko.com">Contactez‑nous</a></p>
  </div>

  <hr class="my-6" />
  <nav class="text-sm text-slate-600 space-x-3">
    <a class="underline" href="{% url 'account_login' %}">Connexion</a>
    <a class="underline" href="{% url 'account_signup' %}">Création de compte</a>
  </nav>
</section>
{% endblock %}

